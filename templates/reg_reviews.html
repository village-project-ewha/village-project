{% extends "index.html" %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/review.css') }}">
<script src="{{ url_for('static', filename='js/main.js') }}" defer></script>
<script src="{{ url_for('static', filename='js/reg_reviews.js') }}" defer></script>
{% endblock head %}

{% block section %}
<div id="page-wrapper">
    <div class="review-container">
        <form action="{{ url_for('reg_review') }}" method="POST" enctype="multipart/form-data">
            <div class="product-group">
                <header class="review-header">
                    리뷰 작성하기
                </header>
                <section class="review-section product-section">
                    <div class="product-info-box">
                        <img src="/static/{{ product.img_path }}" alt="{{ product.name }}" class="product-image">

                        <div class="product-details">

                            <div class="product-title-group">
                                <p class="product-name">{{ product.name }}</p>
                                <p class="product-meta">
                                    [{{ product.category }}] [{{ product.mid_category }}]
                                </p>
                            </div>

                            <p class="product-price">
                                {{ product.price }}원
                            </p>

                            <p class="seller-info">
                                판매자: {{ product.seller_id }}
                            </p>

                        </div>
                    </div> </section>
            </div>
            
            <input type="hidden" name="tx_id" value="{{ product.tx_id }}">
            <input type="hidden" name="name" value="{{ product.name }}">

            <!-- <section>: "별점" 구역 -->
            <section class="review-section rating-section">
                <h2 class="section-title">이 상품은 어떠셨나요?</h2>

                <div class="rating-box">
                    <div class="star-rating">
                        <i class="fas fa-star" data-value="1"></i>
                        <i class="fas fa-star" data-value="2"></i>
                        <i class="fas fa-star" data-value="3"></i>
                        <i class="fas fa-star" data-value="4"></i>
                        <i class="fas fa-star" data-value="5"></i>
                    </div>
                    <span class="rating-text">(0.0 / 5.0)</span>
                </div>
                <input type="hidden" name="reviewStar" value="0">
            </section>


            <!-- <section>: "리뷰 제목" 구역 -->
            <section class="review-section content-section">
                <h3 class="section-title">리뷰 제목</h3>
                <input type="text" name="title" class="review-input" placeholder="제목을 입력해 주세요.">
            </section>

            <!-- <section>: "리뷰 내용" 구역 -->
            <section class="review-section content-section">
                <h3 class="section-title">상세한 리뷰를 작성해 주세요.</h3>
                <div class="textarea-wrapper">
                    <textarea name="reviewContents" class="review-textarea"
                        placeholder="상품 이용 후기를 자세히 입력해 주세요. (20자 이상)&#10;• 상품 상태 / 보증금 여부 / 판매자 응답률 등"
                        maxlength="1000"></textarea>
                    <div class="char-count">
                        <span class="current-count">0</span> / 1000
                    </div>
                    <p class="error-message" style="display: none;">* 20자 이상 작성해 주세요.</p>
                </div>

            </section>


            <!-- <section>: "사진/동영상 첨부" 구역 -->
            <section class="review-section photo-section">
                <h3 class="section-title">사진/동영상 첨부 <span class="optional">(선택)</span></h3>
                <div class="photo-uploader">
                    <label class="photo-upload-box main-upload">
                        <input type="file" name="file" class="photo-input" multiple>
                        <i class="fas fa-plus"></i> <span>사진을 추가해 주세요</span>
                    </label>
                    <div class="photo-upload-box placeholder"></div>
                    <div class="photo-upload-box placeholder"></div>
                    <div class="photo-upload-box placeholder"></div>
                    <div class="photo-upload-box placeholder"></div>
                </div>
            </section>

            <!-- <section>: "리뷰 작성 유의사항" 구역 -->
            <section class="review-section guidelines-section">
                <h3 class="section-title">리뷰 작성 유의사항</h3>
                <ul>
                    <li>포토리뷰 작성 시 100P 지급! (최대 2장까지 가능)</li>
                    <li>상품과 관련 없는 내용, 욕설, 비방, 명예훼손 등은 관리자 확인 후 노출되지 않습니다.</li>
                </ul>
            </section>


            <div class="reg_reviews_button">
                <button type="submit" class="submit-review-button">
                    리뷰 등록하기
                </button>
            </div>


        </form>
    </div>

    <script src="/static/reg_reviews.js" defer></script>

</div>



{% endblock section %}